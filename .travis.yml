language: node_js
node_js:
- stable
cache:
  directories:
  - node_modules
install:
- npm install
services:
- postgresql
before_script:
- psql -c 'create database express_javascript;' -U postgres
- psql -c "CREATE USER root WITH PASSWORD null;" -U postgres
- npm run build
- npm install -g sequelize-cli
- sequelize db:migrate
script:
- npm run test
after_success:
- npm run generate-lcov
- npm run coveralls-coverage
deploy:
  provider: heroku
  api_key:
    secure: FsQvXW5Pxnjtoo8aGXzeVvr2PYsxEPVh4DbrqdwO1/eC/YEN3fkJU9bUZdnDPj60LwzMV+/zszBrzDYGi4x43cqCrRMPzwV3tQzpyO8HXES8a70GNt/buMZ6ldl2qb8+qILZpnzF3InuwkDR8TAiL1fbQDmBCRZ0OMoZ69Oinnx4z2V3MX3pzwBQ7VzSsl6QHa5KbXsQTW6R8w6ErHjbq0BGMNaXOaoadtyyEpzHobPXDz0UMBZ9lgAVfjz6H9MOLTQQoYxPZ/OPmco3cO38ehb9P3ox5L0M7iYUg5zh9mrID/stRu1J9RyX93tKYoKGEWm38aT6zJ48AVUPIMoeBLeF43DaAVPgQn4qXHKBGWt1MiVTWnz5wksoPc2+8wxgvQatmunUDHWzAHwXoQ2YMVFu9DIYr05dM8nn8jhhcMRXbTj2N1tCkuqPnK4NUnMg7AQS9PY2sexrusLGvnaSRdojE58ijk8BB9CZOuj2/AL2P2suQKA3VyvwbVWh/IEVzSrxm3h7bWJ8BlqV36oORdZzCMnD4rVlJ38DLR6dFh3bQ9P3icDTYo0EQ1oG0XUTXC5wjv5SlxVt7oSaLqCW7PPDXmJxXEGB2WmeiB1qyKshu+Sm+lravKMyDATMjgu92KbHFsX4yjHlaFCjorTtJtGUqRCys9waGtUq1L8Nx8A=
  app: nodejs-express-postgre-sequliz
  on:
    repo: vaughan189/nodejs-express-postgresql-sequelize-template
  skip_cleanup: true
env:
  global:
    secure: WMY2t+nkDMaoX4kVByFaxbCPg1AxxJikdk3znqq+Lvbu0e8roWdVGyjapDlj7hK3KLyLaSqOQhp7RMGfqefyle0g9YOVYXIGdjEeh0fKrR0AHHhPz3WoHJKJer/L8zQ5z4L8s7o9Zn7gt76gaDfQdL39fZeDmazhDH9SN0jZBbyXQ5VbQ7NI43y59VV0ymgktDpZYJJO5cpTG4Lsw68k5cjcmjjCRxMe2o3V3s1uTVMSfXqZ4VKCfZYpyujtG1TNqcRLe+7pFITf0MhEQXHPDofzjQk0NlO6UmOzb2JzZpRWDpP2L9ZGKRlkWOwHc4DeRp3g/qLfFXH0UaJZeza69zhaILpr6wTXAruEW2C9F1tIK7Q+3FZyXfMkW5WdRVJhRvvvo9J0wPEng51xo16RXSO0hZCXc9YGF8lhmHDbzl1UsgqWjwaB/XbOSwD85JwjB8T02wVrZ4zZApQ7KVl2XPvdXb9VYAYHuXTpEyb15jgv0UY0ke2K5kUROr/xYBbGKjEVu+32hGq6ClTchs6DQFxs6cMi1buHoBNbT5mNqPxWg6yJiePBHg61IHPZPGCXDB4QH7bKZ1VbodgW2+DvaXWxIRi4nQ8gwBexG5Ffp3IdWNezNGEsPBxa2gFaMySAecga+vqhU5rJn6IBFDeJW6rOoPppw+kFv0RgE6SJ8Fc=
